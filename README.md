# Reposter Bot

Бот для автоматической пересылки сообщений в Telegram.

## Быстрый старт

### 1. Настройка конфигурации

Скопируйте файл с примерами настроек и заполните его:

```bash
cd /var/opt/reposter_bot
cp .env.example .env
nano .env
```

Заполните необходимые параметры:
- `BOT_TOKEN` - токен вашего бота от @BotFather
- `API_ID` и `API_HASH` - получите на https://my.telegram.org/apps
- `OWNER_IDS` - ID администраторов (можно несколько через запятую)

### 2. Установка и запуск

Запустите одну команду из любой директории:

```bash
bot-setup
```

Или если вы уже в директории проекта:

```bash
./setup-service.sh
```

Скрипт автоматически:
- ✓ Создаст виртуальное окружение Python
- ✓ Установит все зависимости из requirements.txt
- ✓ Создаст .env файл из примера (если его нет)
- ✓ Настроит systemd сервис
- ✓ Включит автозапуск при загрузке системы
- ✓ Установит простые команды управления
- ✓ Запустит бота

Готово! Бот будет работать в фоновом режиме и автоматически запускаться при перезагрузке сервера.

## Управление ботом

После установки доступны простые команды (работают из любой директории):

```bash
bot-start      # запустить бота
bot-stop       # остановить бота
bot-restart    # перезапустить бота
bot-status     # проверить статус
bot-logs       # посмотреть логи в реальном времени
bot-logs 100   # показать последние 100 строк логов
```

Или используйте стандартные команды systemd:

```bash
sudo systemctl status reposter-bot   # проверить статус
sudo systemctl restart reposter-bot  # перезапустить
sudo systemctl stop reposter-bot     # остановить
```

## Ручной запуск (для тестирования)

Если нужно запустить бота вручную для отладки:

```bash
cd /var/opt/reposter_bot
source venv/bin/activate
python main.py
```

## Требования

- Python 3.8+
- Linux с systemd
- Доступ к sudo для настройки сервиса
